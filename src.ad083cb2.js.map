{"version":3,"sources":["Todo.js","RenderTodos.js","helpers.js","index.js"],"names":["Todo","id","title","description","priority","completed","markCompleted","RenderTodos","store","view","todos","map","todo","join","initStore","window","localStorage","getItem","emptyStore","update","activeId","JSON","parse","setItem","stringify","getIndexOfTodo","index","forEach","ind","createTodo","document","getElementById","create","searchByTitle","filterByStatus","filterByPriority","cancelButton","toggleForm","classList","toggle","onclick","cleanForm","value","updateTodoList","innerHTML","addHandlers","querySelectorAll","button","deleteTodo","parseInt","completeTodo","showFormWithTodo","renderTodoList","addTodo","unshift","updateTodo","indeOfTodo","splice","indexOfTodo","console","log","showTodosByStatus","status","filterValue","tempStore","filter","onchange","showTodosByPriority","showTodosByTitle","titleLow","toLowerCase","includes","onkeyup","onsubmit","e","preventDefault"],"mappings":"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","file":"src.ad083cb2.js","sourceRoot":"../src","sourcesContent":["export const Todo = ({ id, title, description, priority, completed }) => {\n    let markCompleted = completed ? \"completed\" : \"\";\n    return `\n    <li class=\"todo ${markCompleted}\">\n        <h2>${title}</h2>\n        <p>${description}</p>\n        <div class='todo-footer'>\n        <em>${priority}</em>\n        <div class=\"controls\">\n        <button class='control-btn'>...</button>\n        <div class=\"controls-content\">\n        <span class=\"control-item done\" id=${id}>done</span>\n        <span class=\"control-item update\" id=${id}>update</span>\n        <span class=\"control-item delete\" id=${id}\">delete</span>\n        </div>\n      </div>\n      </div>\n      </li>\n    `;\n  };\n  ","import { Todo } from \"./Todo\";\n\nexport const RenderTodos = store => {\n  let view = store.view ? \"view\" : \"todos\";\n  let todos = store[view].map(todo => Todo(todo)).join(\"\");\n\n  return `<ul class=\"todo-list\">${todos}</ul>`;\n};\n","export const initStore = () => {\n    let store = window.localStorage.getItem(\"store\");\n    let emptyStore = {\n      id: 0,\n      update: false,\n      activeId: null,\n      todos: [],\n      view: false\n    };\n    if (!store) {\n      window.localStorage.setItem(\"store\", JSON.stringify(emptyStore));\n      return emptyStore;\n    } else {\n      return JSON.parse(store);\n    }\n  };\n  \n  export function getIndexOfTodo(id, todos) {\n    let index = -1;\n    todos.forEach((todo, ind) => {\n      if (todo.id === id) index = ind;\n    });\n    return index;\n  }\n  ","import { RenderTodos } from \"./RenderTodos\";\nimport { initStore, getIndexOfTodo } from \"./helpers\";\nimport \"./styles.scss\";\n\n// add hanler for saving a store on Window close and reload \nconst store = initStore();\n\nlet createTodo = document.getElementById(\"create-todo\");\nlet create = document.getElementById(\"create\");\nlet searchByTitle = document.getElementById(\"search-by-title\");\nlet filterByStatus = document.getElementById(\"status\");\nlet filterByPriority = document.getElementById(\"priority\");\nlet cancelButton = document.getElementById(\"cancel\");\n\nconst toggleForm = () => createTodo.classList.toggle(\"hidden\");\n\ncancelButton.onclick = () => toggleForm();\n\nconst cleanForm = () => {\n  document.getElementById(\"title\").value = null;\n  document.getElementById(\"description\").value = null;\n};\n\nconst updateTodoList = () => {\n  document.getElementById(\"todo-list\").innerHTML = \"\";\n  document.getElementById(\"todo-list\").innerHTML = RenderTodos(store);\n};\n\nconst addHandlers = () => {\n  let delBtns = document.querySelectorAll(\".delete\");\n  delBtns.forEach(button => {\n    button.onclick = () => deleteTodo(parseInt(button.id, 10));\n  });\n  let completeBtns = document.querySelectorAll(\".done\");\n  completeBtns.forEach(button => {\n    button.onclick = () => completeTodo(parseInt(button.id, 10));\n  });\n  let updateBtns = document.querySelectorAll(\".update\");\n  updateBtns.forEach(button => {\n    button.onclick = () => {\n      toggleForm();\n      showFormWithTodo(parseInt(button.id, 10));\n    };\n  });\n};\n\nconst renderTodoList = () => {\n  updateTodoList();\n  addHandlers();\n};\n\nexport const addTodo = todo => {\n  let { id, title, description, priority } = todo;\n  store.todos.unshift({\n    id: id,\n    title: title,\n    description: description,\n    priority: priority,\n    completed: false\n  });\n  store.id++;\n  renderTodoList();\n};\n\nexport const updateTodo = todo => {\n  let { id } = todo;\n  let index = getIndexOfTodo(id, store.todos);\n  store.todos[index] = todo;\n  renderTodoList();\n};\n\nconst deleteTodo = id => {\n  if (store.view) {\n    let indeOfTodo = getIndexOfTodo(id, store.view);\n    store.view.splice(indeOfTodo, 1);\n  }\n  let indexOfTodo = getIndexOfTodo(id, store.todos);\n  store.todos.splice(indexOfTodo, 1);\n  renderTodoList();\n};\n\nexport const completeTodo = id => {\n  if (store.view) {\n    let indeOfTodo = getIndexOfTodo(id, store.view);\n    store.view.splice(indeOfTodo, 1);\n  }\n  let indexOfTodo = getIndexOfTodo(id, store.todos);\n  store.todos[indexOfTodo].completed = !store.todos[indexOfTodo].completed;\n  renderTodoList();\n  console.log(store);\n};\n\nconst showFormWithTodo = id => {\n  store.activeId = id;\n  store.update = true;\n  let indexOfTodo = getIndexOfTodo(id, store.todos);\n  let todo = store.todos[indexOfTodo];\n  document.getElementById(\"todo-priority\").value = todo.priority;\n  document.getElementById(\"title\").value = todo.title;\n  document.getElementById(\"description\").value = todo.description;\n};\n\nconst showTodosByStatus = status => {\n  if (status !== \"all\") {\n    let filterValue = status === \"open\" ? false : true;\n    let tempStore = store.todos.filter(todo => todo.completed === filterValue);\n    store.view = tempStore;\n    renderTodoList();\n  } else {\n    store.view = false;\n    renderTodoList();\n  }\n};\n\nfilterByStatus.onchange = () => {\n  showTodosByStatus(filterByStatus.value);\n};\n\nconst showTodosByPriority = priority => {\n  switch (priority) {\n    case \"high\":\n      let view = store.todos.filter(todo => todo.priority === \"high\");\n      store.view = view;\n      break;\n    case \"normal\":\n      store.view = store.todos.filter(todo => todo.priority === \"medium\");\n      break;\n    case \"low\":\n      store.view = store.todos.filter(todo => todo.priority === \"low\");\n      break;\n    default:\n      store.view = null;\n  }\n  renderTodoList();\n};\n\nfilterByPriority.onchange = () => {\n  showTodosByPriority(filterByPriority.value, store);\n};\n\nexport const showTodosByTitle = title => {\n  let titleLow = title.toLowerCase();\n  let tempStore = store.todos.filter(todo =>\n    todo.title.toLowerCase().includes(titleLow)\n  );\n  store.view = tempStore;\n  renderTodoList();\n};\n\nsearchByTitle.onkeyup = () => {\n  showTodosByTitle(searchByTitle.value);\n};\n\n// handler to update / insert;\ncreate.onclick = () => {\n  // document.getElementById(\"formTodo\").classList.add(\"show\");\n  toggleForm();\n};\n\ncreateTodo.onsubmit = e => {\n  e.preventDefault();\n  let title = document.getElementById(\"title\");\n  let description = document.getElementById(\"description\");\n  let priority = document.getElementById(\"todo-priority\");\n  let id = store.update ? store.activeId : store.id;\n  let todo = {\n    id: id,\n    title: title.value,\n    description: description.value,\n    priority: priority.value\n  };\n  if (store.update) {\n    updateTodo(todo);\n    store.update = false;\n    store.activeId = null;\n  } else {\n    addTodo(todo);\n  }\n  toggleForm();\n  cleanForm();\n};\n"]}